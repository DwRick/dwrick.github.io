<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jogo da Velha — 2025</title>
  <style>
    :root{
      --bg:#f3f4f6;
      --cell:#ffffff;
      --line:#111827;
      --x-color:#e11d48;
      --o-color:#1e40af;
      --text:#0f172a;
      font-family: Arial, Helvetica, sans-serif;
    }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      color:var(--text);
      padding:20px;
    }
    .wrapper{
      width:320px;
      text-align:center;
    }
    h1{margin:0 0 8px 0;font-size:20px;}
    .board{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:6px;
      margin:12px 0;
    }
    .cell{
      width:100px;
      height:100px;
      background:var(--cell);
      border:2px solid var(--line);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:42px;
      cursor:pointer;
      user-select:none;
    }
    .cell.disabled{ cursor:not-allowed; opacity:0.7; }
    .info{font-size:14px;margin-top:8px;}
    button#reset{
      margin-top:10px;
      padding:8px 12px;
      border:none;
      background:#111827;
      color:white;
      border-radius:6px;
      cursor:pointer;
    }
    .x{ color: var(--x-color); font-weight:700; }
    .o{ color: var(--o-color); font-weight:700; }
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>Jogo da Velha — Simples</h1>
    <div class="info" id="status">Vez de X</div>

    <div class="board" id="board" aria-label="Tabuleiro">
      <!-- 9 células serão geradas pelo JS -->
    </div>

    <button id="reset">Reiniciar</button>
  </div>

  <script>
    // Estado do jogo
    const WIN_COMBOS = [
      [0,1,2],[3,4,5],[6,7,8],
      [0,3,6],[1,4,7],[2,5,8],
      [0,4,8],[2,4,6]
    ];
    let board = Array(9).fill(null); // null | 'X' | 'O'
    let current = 'X';
    let playing = true;

    const boardEl = document.getElementById('board');
    const statusEl = document.getElementById('status');
    const resetBtn = document.getElementById('reset');

    // Cria UI das 9 células
    function initBoard(){
      boardEl.innerHTML = '';
      for(let i=0;i<9;i++){
        const btn = document.createElement('div');
        btn.className = 'cell';
        btn.dataset.index = i;
        btn.tabIndex = 0;
        btn.addEventListener('click', onCell);
        btn.addEventListener('keydown', (e) => { if(e.key === 'Enter' || e.key === ' ') onCell(e); });
        boardEl.appendChild(btn);
      }
      render();
    }

    // Renderiza estado
    function render(){
      const cells = boardEl.querySelectorAll('.cell');
      cells.forEach((c, i) => {
        c.textContent = board[i] ? board[i] : '';
        c.classList.toggle('x', board[i] === 'X');
        c.classList.toggle('o', board[i] === 'O');
        c.classList.toggle('disabled', !playing || board[i]);
      });
      if(playing){
        statusEl.textContent = 'Vez de ' + current;
      }
    }

    // Clique na célula
    function onCell(e){
      if(!playing) return;
      const idx = Number(e.currentTarget.dataset.index);
      if(board[idx]) return; // já preenchida
      board[idx] = current;
      // checar fim
      const winner = checkWinner();
      if(winner){
        playing = false;
        statusEl.textContent = 'Vencedor: ' + winner;
        highlightWin(winner);
      } else if(board.every(Boolean)){
        playing = false;
        statusEl.textContent = 'Empate!';
      } else {
        current = current === 'X' ? 'O' : 'X';
        render();
      }
    }

    // Checa vencedor — retorna 'X' ou 'O' ou null
    function checkWinner(){
      for(const combo of WIN_COMBOS){
        const [a,b,c] = combo;
        if(board[a] && board[a] === board[b] && board[a] === board[c]){
          return board[a];
        }
      }
      return null;
    }

    // Destaca linha vencedora (simples: borda nas 3 células)
    function highlightWin(winner){
      for(const combo of WIN_COMBOS){
        const [a,b,c] = combo;
        if(board[a] && board[a] === board[b] && board[a] === board[c]){
          // aplica estilo simples
          [a,b,c].forEach(i => {
            const cell = boardEl.querySelector(`[data-index='${i}']`);
            if(cell) cell.style.borderColor = 'gold';
          });
          break;
        }
      }
    }

    // Reiniciar jogo
    function reset(){
      board = Array(9).fill(null);
      current = 'X';
      playing = true;
      // remove estilos de destaque
      const cells = boardEl.querySelectorAll('.cell');
      cells.forEach(c => { c.style.borderColor = ''; });
      statusEl.textContent = 'Vez de ' + current;
      render();
    }

    // Inicialização
    initBoard();
    resetBtn.addEventListener('click', reset);
  </script>
</body>
</html>
